<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ChillBox — Play Games</title>
<link rel="icon" type="image/png" href="logo.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Inter', sans-serif;
}

body {
  background: #0a0f19;
  color: #fff;
}

/* NAVBAR */
.navbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 40px;
  background: linear-gradient(to bottom, #000, #0a0f19);
}
header{
  position: sticky;
  top: 0px;
  z-index: 10;
  align-items: center;
  justify-content: space-between;
  backdrop-filter: blur(4px);
}

.logo { font-size: 26px; font-weight: 700; color: white; text-decoration: none; gap: 8px; margin-top: 10px;}
i { color: #1db954;}
a{ text-decoration: none; color: white; 
  font-size: 0.95em;
  font-weight: 500;
}

.nav-links {
  list-style: none;
  display: flex;
  gap: 30px;
}

a { cursor: pointer; opacity: 0.8;
  transition: 0.3s; 
   margin-top: 10px;
  font-size: 17px;}
.nav-links a {
  padding: 5px;
}
.nav-links .active {
  background: #1db954;
  color: black;
  /*padding: 8px 18px;*/
  border-radius: 8px;
  font-weight: 600;
  padding: 5px;
}
.nav-links a:hover {
  opacity: 1;
  background-color: #1db954;
  border-radius: 8px;
  color: black;
}

#search {
  background: #111;
  border: none;
  color: white;
  padding: 10px 16px;
  border-radius: 10px;
}
  #searchInput:focus {
  width: 250px;
}

/* SECTIONS */
section {
  padding: 20px 40px;
  overflow:
}

.hidden { display: none; }
h2 { margin-bottom: 12px; }

/* SLIDER */
.slider {
  position: relative;
}

.games-row {
  display: flex;
  gap: 16px;
  overflow-x: hidden;
  scroll-behavior: smooth;
  padding-bottom: 10px;
}

/* ARROWS */
.arrow {
  position: absolute;
  top: 40%;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.7);
  border: none;
  color: white;
  font-size: 28px;
  padding: 6px 12px;
  cursor: pointer;
  border-radius: 50%;
  z-index: 5;
  filter: blur(1px);
}

.arrow.left { left: -10px; }
.arrow.right { right: -10px; }

.arrow:hover {
  background: #1db954;
  color: black;
  box-shadow: 0 0 20px white; 
}

/* GRID */
.games-container {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 20px;
  padding: 20px 40px;
}

/* CARD */
.game-card {
  min-width: 200px;
  background: #151b2c;
  border-radius: 16px;
  overflow: hidden;
  transition: 0.3s;
  cursor: pointer;
}

.game-card:hover {
  transform: translateY(-6px) scale(1.04);
  box-shadow: 0 0 20px white; /*rgba(45,255,45,0.2);*/
}

.game-card img {
  width: 100%;
  height: 130px;
  object-fit: cover;
}

.game-info {
  padding: 10px;
}

.game-info h3 {
  font-size: 14px;
  margin-bottom: 6px;
}

.rating {
  font-size: 12px;
  color: gold;
  margin-bottom: 6px;
}

.play-btn {
  width: 100%;
  padding: 8px;
  border: none;
  border-radius: 8px;
  background: #1db954;
  font-weight: 600;
  cursor: pointer;
}

/* MODAL */
.game-modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.9);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 100;
}

.game-modal iframe {
  width: 80%;
  height: 80%;
  border-radius: 14px;
  border: none;
}

.close, .fullscreen {
  position: absolute;
  top: 20px;
  font-size: 24px;
  cursor: pointer;
}

.close { right: 30px; }
.fullscreen { right: 70px; }

.loader {
  text-align: center;
  padding: 30px;
  opacity: 0.6;
}
#searchSection {
  padding-top: 10px;
}
#recentSection {
  margin-top: 80px;
  border: 1px solid #222;
}
.footer {
  background: #0b0b0b;
  padding: 50px 6%;
  color: #ccc;
  margin-top: 60px;
}

.footer-content {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
}
.footer i{
  color: limegreen;
}
.footer-logo {
  font-size: 45px;
  font-weight: 700;
  color: white;
  margin-bottom: 10px;
}

.footer-brand p {
  line-height: 1.6;
  margin-bottom: 15px;
}

.footer-social a {
  margin-right: 12px;
  color: white;
  font-size: 18px;
  transition: 0.3s;
}
.footer-social a:hover {
  color: #1db954;
}

.footer-section {
  min-width: 150px;
  margin-top: 70px;
}

.footer-section h3 {
  color: white;
  margin-bottom: 12px;
  font-size: 18px;
}

.footer-section a {
  display: block;
  color: #ccc;
  text-decoration: none;
  margin-bottom: 8px;
  transition: 0.3s;
}
.footer-section a:hover {
  color: #1db954;
}

.footer-copy {
  text-align: center;
  margin-top: 30px;
  margin-bottom: 0;
  color: #777;
  font-size: 14px;
  border-top: 1px solid rgba(255,255,255,0.1);
  padding-top: 20px;
}

</style>
</head>

<body>

<!-- NAVBAR -->
 <header>
<nav class="navbar">
  <a class="logo" href="new_game.html"> <i class="fas fa-infinity"></i> ChillBox</a>
  <div class="nav-links">
    <a href="index.html">Movies</a>
    <a href="Music.Html">Music</a>
    <a class="active" href="Games.html">Games</a>
    <a href="AboutUs.html">About</a>
  </div>
  <input type="text" id="search" placeholder="Search games...">
</nav>
</header>
<!-- SEARCH RESULTS -->
<section id="searchSection" class="hidden">
  <h2>Search Results</h2>
  <div class="games-container" id="searchResults"></div>
</section>

<!-- RECENTLY PLAYED -->
<section id="recentSection" class="hidden">
  <h2>Recently Played</h2>
  <div class="slider">
    <button class="arrow left" onclick="slide('recentGames', -1)">‹</button>
    <div class="games-row" id="recentGames"></div>
    <button class="arrow right" onclick="slide('recentGames', 1)">›</button>
  </div>
</section>

<!-- CATEGORY SECTIONS -->
<section>
  <h2>Action Games</h2>
  <div class="slider">
    <button class="arrow left" onclick="slide('actionGames', -1)">‹</button>
    <div class="games-row" id="actionGames"></div>
    <button class="arrow right" onclick="slide('actionGames', 1)">›</button>
  </div>
</section>

<section>
  <h2>Racing Games</h2>
  <div class="slider">
    <button class="arrow left" onclick="slide('racingGames', -1)">‹</button>
    <div class="games-row" id="racingGames"></div>
    <button class="arrow right" onclick="slide('racingGames', 1)">›</button>
  </div>
</section>

<section>
  <h2>Puzzle Games</h2>
  <div class="slider">
    <button class="arrow left" onclick="slide('puzzleGames', -1)">‹</button>
    <div class="games-row" id="puzzleGames"></div>
    <button class="arrow right" onclick="slide('puzzleGames', 1)">›</button>
  </div>
</section>

<section>
  <h2>Sports Games</h2>
  <div class="slider">
    <button class="arrow left" onclick="slide('sportsGames', -1)">‹</button>
    <div class="games-row" id="sportsGames"></div>
    <button class="arrow right" onclick="slide('sportsGames', 1)">›</button>
  </div>
</section>

<!-- ALL GAMES -->
<h2 style="padding-left:40px;">All Games</h2>
<div class="games-container" id="games"></div>
<div class="loader" id="loader">Loading more games...</div>

<!-- GAME MODAL -->
<div class="game-modal" id="gameModal">
  <span class="close" onclick="closeGame()">✖</span>
  <button class="fullscreen" onclick="fullscreen()">⛶</button>
  <iframe id="gameFrame"></iframe>
</div>
<footer class="footer">
  <div class="footer-content">

    <div class="footer-brand">
      <h2 class="footer-logo"><i class="fas fa-infinity"></i> ChillBox</h2>
      <p>Stream Movies, play<br>Games, and enjoy<br>Music – all in one place.</p>

      <div class="footer-social">
        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-youtube"></i></a>
      </div>
    </div>

    <div class="footer-section">
      <h3>Sections</h3>
      <a href="index.html">Movies</a>
      <a href="Music.Html">Music</a>
      <a href="Games.html">Games</a>
      <a href="AboutUs.html">About Us</a>
    </div>

    <div class="footer-section">
      <h3>Support</h3>
      <a href="#">FAQ</a>
      <a href="#">Privacy Policy</a>
      <a href="#">Terms & Conditions</a>
    </div>

  </div>

  <p class="footer-copy">© 2025 ChillBox Entertainment. All rights reserved.</p>
</footer>
<script>
const API = "https://rss.gamemonetize.com/rssfeed.php?format=json&amount=150";
let allGames = [];
let visible = 24;

fetch(API)
  .then(res => res.json())
  .then(data => {
    allGames = data.map(g => ({
      ...g,
      rating: (Math.random() * 1.5 + 3.5).toFixed(1)
    }));
    loadRecent();
    loadCategoryRows();
    renderAll();
  });

function stars(r) {
  return "★".repeat(Math.floor(r)) + "☆".repeat(5 - Math.floor(r)) + ` (${r})`;
}

function gameCard(game) {
  return `
    <div class="game-card">
      <img loading="lazy" src="${game.thumb}">
      <div class="game-info">
        <h3>${game.title}</h3>
        <div class="rating">${stars(game.rating)}</div>
        <button class="play-btn" onclick="play('${game.url}','${game.title}')">Play Now</button>
      </div>
    </div>`;
}

function loadCategoryRows() {
  renderRow("Action", "actionGames");
  renderRow("Racing", "racingGames");
  renderRow("Puzzle", "puzzleGames");
  renderRow("Sports", "sportsGames");
}

function renderRow(cat, id) {
  document.getElementById(id).innerHTML =
    allGames.filter(g => g.category?.includes(cat)).slice(0, 12).map(gameCard).join("");
}

function renderAll() {
  document.getElementById("games").innerHTML =
    allGames.slice(0, visible).map(gameCard).join("");
}

window.addEventListener("scroll", () => {
  if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 300) {
    visible += 12;
    renderAll();
  }
});

function slide(id, dir) {
  document.getElementById(id).scrollBy({
    left: dir * 400,
    behavior: "smooth"
  });
}

const searchInput = document.getElementById("search");
const searchSection = document.getElementById("searchSection");
const searchResults = document.getElementById("searchResults");

searchInput.addEventListener("input", () => {
  const query = searchInput.value.trim().toLowerCase();

  if (query === "") {
    // Restore normal layout
    searchSection.classList.add("hidden");
    document.querySelectorAll("section").forEach(sec => {
      if (sec.id !== "searchSection") sec.style.display = "block";
    });
    document.getElementById("games").style.display = "grid";
    return;
  }

  // Hide other sections
  document.querySelectorAll("section").forEach(sec => {
    if (sec.id !== "searchSection") sec.style.display = "none";
  });
  document.getElementById("games").style.display = "none";

  // Show search results
  searchSection.classList.remove("hidden");

  const results = allGames.filter(game =>
    game.title.toLowerCase().includes(query)
  );

  searchResults.innerHTML = results.length
    ? results.map(gameCard).join("")
    : `<p style="opacity:.6">No games found</p>`;
});

/* PLAY */
function play(url, title) {
  document.getElementById("gameModal").style.display = "flex";
  document.getElementById("gameFrame").src = url;
  saveRecent({ title, url });
}

function closeGame() {
  document.getElementById("gameModal").style.display = "none";
  document.getElementById("gameFrame").src = "";
}

function fullscreen() {
  document.getElementById("gameFrame").requestFullscreen();
}

/* RECENT */
function saveRecent(game) {
  let recent = JSON.parse(localStorage.getItem("recent")) || [];
  recent = recent.filter(g => g.title !== game.title);
  recent.unshift(game);
  if (recent.length > 5) recent.pop();
  localStorage.setItem("recent", JSON.stringify(recent));
  loadRecent();
}

function loadRecent() {
  const recent = JSON.parse(localStorage.getItem("recent"));
  if (!recent || !recent.length) return;
  document.getElementById("recentSection").classList.remove("hidden");
  document.getElementById("recentGames").innerHTML =
    recent.map(g =>
      `<div class="game-card">
        <div class="game-info">
          <h3>${g.title}</h3>
          <button class="play-btn" onclick="play('${g.url}','${g.title}')">Continue</button>
        </div>
      </div>`
    ).join("");
}

document.addEventListener("keydown", e => {
  if (e.key === "Escape") closeGame();
});
</script>

</body>
</html>

