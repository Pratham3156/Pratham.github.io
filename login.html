<script type="module">
import { auth } from "./firebase.js";
import {
  signInWithEmailAndPassword,
  createUserWithEmailAndPassword
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const emailInput = document.getElementById("email");
const passwordInput = document.getElementById("password");

window.login = function(){
  const email = emailInput.value.trim();
  const password = passwordInput.value.trim();

  if(email === "" || password === ""){
    alert("Please enter email and password");
    return;
  }

  signInWithEmailAndPassword(auth, email, password)
    .then(() => {
      window.location.href = "index.html";
    })
    .catch(err => alert(err.message));
}

window.signup = function(){
  const email = emailInput.value.trim();
  const password = passwordInput.value.trim();

  if(email === "" || password === ""){
    alert("Please enter email and password");
    return;
  }

  createUserWithEmailAndPassword(auth, email, password)
    .then(() => {
      window.location.href = "index.html";
    })
    .catch(err => alert(err.message));
}
</script>
