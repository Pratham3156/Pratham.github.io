<h2>Create Account</h2>
<button onclick="googleSignup()">Signup with Google</button>

<script type="module">
import { auth, db } from "./firebase.js";
import { GoogleAuthProvider, signInWithPopup } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { doc, setDoc } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const provider = new GoogleAuthProvider();

window.googleSignup = function(){
  signInWithPopup(auth, provider)
    .then(async (res) => {
      await setDoc(doc(db,"users",res.user.uid),{
        email: res.user.email,
        name: res.user.displayName,
        photo: res.user.photoURL,
        createdAt: new Date()
      });
      location.replace("index.html");
    });
}
</script>
